<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8">
  <title>Tim vanilija - upiši se i ti!</title>
  <style>
    #cornerImage {
      position: absolute;
      top: 10px;
      left: 10px;
      width: 50px; 
      height: auto;
    }
  </style>
</head>
<body>

<img src="logo_vanilija.jpeg" alt="Logo" id="cornerImage">
  
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
  import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-database.js";

  // Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCEkaIGfdlLBMdCg1_vt-9Xy0KS32ODFoI",
    authDomain: "tim-vanilija.firebaseapp.com",
    databaseURL: "https://tim-vanilija-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "tim-vanilija",
    storageBucket: "tim-vanilija.firebasestorage.app",
    messagingSenderId: "405457027088",
    appId: "1:405457027088:web:f5f4e0a5e88b799b798a95",
    measurementId: "G-M1GCEDYQFY"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getDatabase(app);
  const listRef = ref(db, 'tim-vanilija/names');

  // Add name to Firebase
  window.addToList = function () {
    const input = document.getElementById('textInput');
    const text = input.value.trim();

    if (text !== '') {
      push(listRef, text); // Save to Firebase
      input.value = ''; // Clear input
    }
  }

  // Realtime listener to add new names to the list
  const listContainer = document.getElementById('listContainer');

  onChildAdded(listRef, (data) => {
    const newItem = document.createElement('li');
    newItem.textContent = data.val();
    listContainer.appendChild(newItem);
  });
</script>

<!-- UI -->
<p>Hey!<br>
Ja sam Sebastian!<br>
Drago mi je upoznat' te! Ja sam šef u klubu Tim vanilija. Želiš li se i ti upisat'?<br></p>

<h2>Dodaj svoje ime</h2>
<input type="text" id="textInput" placeholder="Tvoje ime ovdje...">
<button onclick="addToList()">Upiši se</button>

<ul id="listContainer">
  <!-- Names will appear here -->
</ul>

</body>
</html>
